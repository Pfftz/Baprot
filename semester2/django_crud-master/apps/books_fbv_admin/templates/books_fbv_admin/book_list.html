{% extends "base.html" %} {% load static %} {% block content %}

<link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
/>
<link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
/>

<div class="container mt-5">
    <h2>
        <a href="{% url 'books_fbv_admin:book_list' %}" class="btn btn-primary"
            >Books Admin</a
        >
    </h2>

    <div class="row">
        {% for book in object_list %}
        <div class="col-md-4">
            <div class="card" style="width: 18rem">
                {% if book.cover_image %}
                <img
                    src="{{ book.cover_image.url }}"
                    class="card-img-top"
                    alt="{{ book.name }}"
                    style="max-width: 100%; max-height: 100%; object-fit: contain;"
                />
                {% else %}
                <img
                    src="{% static 'jempol.jpeg' %}"
                    class="card-img-top"
                    alt="{{ book.name }}"
                    style="max-width: 100%; max-height: 100%; object-fit: contain;"
                />
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ book.name }}</h5>
                    <p class="card-text">{{ book.author }}</p>
                    <p class="card-text">Available stock: {{ book.stock }}</p>
                    <a
                        href="{% url 'books_fbv_admin:book_edit' book.id %}"
                        class="btn btn-outline-info btn-sm"
                    >
                        <i class="fa fa-edit"></i> Edit
                    </a>
                    <a
                        href="{% url 'books_fbv_admin:book_delete' book.id %}"
                        class="btn btn-outline-danger btn-sm"
                    >
                        <i class="fa fa-trash"></i> Delete
                    </a>
                </div>
            </div>
        </div>
        {% if forloop.counter|divisibleby:3 %}
    </div>
    <div class="row mt-3">
        {% endif %}
        {% endfor %}
    </div>

    <a href="{% url 'books_fbv_admin:book_new' %}" class="btn btn-success mt-3"
        >New Book</a
    >
</div>

{% endblock %}